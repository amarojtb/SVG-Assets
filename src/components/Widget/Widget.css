@import '../../public/css/utils/variables.css';

.widget-size {
  width: 100%;

  @nest body.edit & {
    border: var(--border-width-thin) dashed var(--silver);
  }

  @nest &.is-dragging {
    z-index: var(--z-index-default);
  }
}

.widget-size-1-1,
.widget-size-2-1 {
  height: var(--widget-height);
}

.widget-size-1-2,
.widget-size-2-2 {
  height: calc(var(--widget-height) * 2 + var(--widget-gutter));
}

@media (min-width: 610px) {
  .widget-size {
    float: left;
  }

  .widget-size-1-1,
  .widget-size-1-2 {
    width: var(--widget-width);
  }

  .widget-size-2-1,
  .widget-size-2-2 {
    width: calc(var(--widget-width) * 2 + var(--widget-gutter));
  }
}

.c-widget {
  width: 100%;
  height: 100%;
  overflow: hidden;
  transition-property: background, box-shadow, transform;
  transition-duration: 0.3s;
  background-color: var(--white);
  box-shadow: 0 0 8px rgba(104, 104, 104, 0.15);

  @nest &:hover {
    background-color: var(--gray-lighter);
    box-shadow:
      0 0 8px rgba(104, 104, 104, 0.45),
      0 0 0 4px var(--white) inset;
  }

  @nest &.is-new {
    animation: 0.3s linear 1.2s 3 new;
  }

  @nest .edit & {
    transform: scale(0.9);
    transition-duration: 0.3s;
  }

  @nest .edit .widget-size:hover & {
    transform: scale(1);
  }
}

@keyframes new {
  0% {
    background: var(--selection-color);
  }

  100% {
    background: none;
  }
}

.c-widget__header {
  position: relative;
  height: var(--widget-height-header);
  padding-right: 0.625rem;
  padding-left: 0.625rem;
  @nest [data-partialviewname=KeyFigure] & {
    display: none;
  }
}

.c-widget__title {
  font-size: var(--font-size-large);
  font-weight: var(--font-weight-bold);
  position: absolute;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  line-height: var(--line-height-reset);
}

.c-widget__body {
  width: 100%;
  height: 100%;

  @nest
  .widget-size-1-1 .c-widget__header + &,
  .widget-size-2-1 .c-widget__header + & {
    height: calc(var(--widget-height) - var(--widget-height-header));
  }

  @nest
  .widget-size-1-2 .c-widget__header + &,
  .widget-size-2-2 .c-widget__header + & {
    height:
      calc(
        var(--widget-height) * 2
        + var(--widget-gutter)
        - var(--widget-height-header)
      );
  }

  @nest [data-partialviewname=KeyFigure] & {
    height: 100% !important;
  }
}

.c-widget__content {
  position: relative;
  height: 100%;
}

.c-widget__delete {
  position: absolute;
  z-index: var(--z-index-default);
  right: var(--spacing-xx-small);
  bottom: var(--spacing-xx-small);
  transition: color var(--duration-quickly);

  @nest &:hover {
    color: var(--gray);
  }

  @nest body:not(.edit) & {
    display: none;
  }

  @nest & > .icon {
    width: 2.5rem;
    height: 2.5rem;
  }
}

.c-widget__no-data {
  position: relative;
  top: 50%;
  transform: translateY(-50%);
  color: var(--gray-light);
  font-size: var(--font-size-x-large);
  font-weight: var(--font-weight-bold);
  text-align: center;
  text-transform: uppercase;
}

.c-widget__overlay {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;

  @media (--min-md) {
    display: block;
  }

  @nest .edit & {
    cursor: move;
  }
}
